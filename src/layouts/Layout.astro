---
import "../styles/global.css";
import Footer from "../components/Footer.astro";
import { tags } from "../data/tags";
const { title } = Astro.props;

const topTags = tags.filter((tag) => tag.position === "top");
const sideTags = tags.filter((tag) => tag.position === "side");
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title}</title>
  </head>
  <body>
    <nav>
      <a href="/" class="home-link">Build Little Worlds</a> |
      {
        topTags.map((tag, index) => (
          <>
            <a href={`/tag/${tag.slug}`}>{tag.label}</a>
            {index < topTags.length - 1 && " | "}
          </>
        ))
      }
      | <a href="/about">About</a>
    </nav>
    <div class="content-wrapper">
      <main>
        <slot />
      </main>
      <aside>
        <h3>Categories</h3>
        <ul>
          {
            sideTags.map((tag) => (
              <li>
                <a href={`/tag/${tag.slug}`}>{tag.label}</a>
              </li>
            ))
          }
        </ul>
      </aside>
    </div>
    <Footer />
  </body>
</html>

<style>
  .content-wrapper {
    display: flex;
    justify-content: space-between;
  }
  main {
    flex: 1;
    padding-right: 2rem;
  }
  aside {
    width: 200px;
  }
  aside ul {
    list-style-type: none;
    padding: 0;
  }
  aside li {
    margin-bottom: 0.5rem;
  }
</style>
