---
import "../styles/tailwind.css";
import Footer from "../components/Footer.astro";
import { tags } from "../data/tags";
import { Image } from "astro:assets";

const { title } = Astro.props;

const topTags = tags.filter((tag) => tag.position === "top");
const sideTags = tags.filter((tag) => tag.position === "side");
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title}</title>
  </head>
  <body
    class="font-sans text-gray-800 leading-relaxed max-w-6xl mx-auto p-5 bg-global-image bg-cover bg-center bg-no-repeat bg-fixed"
  >
    <nav class="text-center mb-8 bg-white bg-opacity-80 p-3 rounded">
      <a href="/" class="font-bold text-gray-700 mx-2 px-1"
        >Build Little Worlds</a
      > |
      {
        topTags.map((tag, index) => (
          <>
            <a
              href={`/tag/${tag.slug}`}
              class="text-gray-700 hover:text-gray-900 hover:underline transition-colors duration-300 mx-2 px-1"
            >
              {tag.label}
            </a>
            {index < topTags.length - 1 && " | "}
          </>
        ))
      }
      | <a
        href="/about"
        class="text-gray-700 hover:text-gray-900 hover:underline transition-colors duration-300 mx-2 px-1"
        >About</a
      >
    </nav>
    <div class="flex justify-between">
      <main class="flex-1 pr-8 bg-white bg-opacity-83 p-5 rounded">
        <slot />
      </main>
      <aside class="w-52 bg-white bg-opacity-70 p-5 rounded">
        <h3 class="font-bold mb-3">Ways to Build</h3>
        <ul>
          {
            sideTags.map((tag) => (
              <li class="mb-3">
                <a
                  href={`/tag/${tag.slug}`}
                  class="text-gray-700 hover:text-gray-900 hover:underline transition-colors duration-300"
                >
                  {tag.label}
                </a>
              </li>
            ))
          }
        </ul>
      </aside>
    </div>
    <Footer />
  </body>
</html>
